{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    } else if (data.status === 'warning') {
    resultDiv.innerHTML = `<div class="alert alert-warning m-2">${data.message}</div>`;
    } else {
    resultDiv.innerHTML = `<div class="alert alert-danger m-2">${data.message}</div>`;
    }

    // Clear message after 3 seconds
    setTimeout(() => {
    resultDiv.innerHTML = '<p class="text-muted mb-0">Waiting for scan...</p>';
    }, 3000);
    })
    .catch((error) => {
    console.error('Error:', error);
    });
    }

    function onScanFailure(error) {
    // handle scan failure, usually better to ignore and keep scanning.
    // for example:
    // console.warn(`Code scan error = ${error}`);
    }

    let html5QrcodeScanner = new Html5QrcodeScanner(
    "reader",
    { fps: 10, qrbox: { width: 250, height: 250 } },
    /* verbose= */ false);
    html5QrcodeScanner.render(onScanSuccess, onScanFailure);
    </script>
    {% endblock %}